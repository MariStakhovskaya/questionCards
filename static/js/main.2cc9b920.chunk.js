(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={mainBlock:"App_mainBlock__2HF24",formBlock:"App_formBlock__1zaAh",titleFormBlock:"App_titleFormBlock__3ZC75",formBlockInput:"App_formBlockInput__2Z6wr",footerBlock:"App_footerBlock__1vnFk",footerFormBlock:"App_footerFormBlock__2ndWh",checkbox:"App_checkbox___ETUF",defaultButton:"App_defaultButton__12b8P",defaultInput:"App_defaultInput__2Pgcg",labelInput:"App_labelInput__2orqK",preloader:"App_preloader__3v5n2",loader:"App_loader__2oKrW",error:"App_error__28HgU",checkEmail:"App_checkEmail__3xmvW",logo:"App_logo__2UF9l"}},10:function(e,t,a){e.exports={modal:"Modal_modal__2Bpo5",active:"Modal_active__20HM-",modalContent:"Modal_modalContent__1Ib2r"}},12:function(e,t,a){e.exports={wrapper:"Error404_wrapper__6QRdJ",image:"Error404_image__1tgfK",errorText:"Error404_errorText__DB3_j",back:"Error404_back__MQN98"}},19:function(e,t,a){e.exports={headerContainer:"Header_headerContainer__1Ta32",headerMenu:"Header_headerMenu__2eVCJ"}},32:function(e,t,a){e.exports=a.p+"static/media/cpLogo.4d8df5a9.png"},36:function(e,t,a){e.exports=a.p+"static/media/Ellipsis.6cf03e7b.gif"},37:function(e,t,a){e.exports={profile:"Profile_profile__2CJLi"}},38:function(e,t,a){e.exports=a.p+"static/media/404.1340f194.png"},39:function(e,t,a){e.exports=a.p+"static/media/4698238.068caec9.png"},41:function(e,t,a){e.exports=a(76)},48:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),c=a.n(o),l=(a(48),a(1)),i=a.n(l),u=a(6),s=a(19),m=a.n(s),d=a(32),p=a.n(d);var f=function(){return r.a.createElement("div",{className:"logo"},r.a.createElement("img",{className:i.a.logo,src:p.a,alt:"logo pet project"}))};var E=function(){return r.a.createElement("div",{className:m.a.headerContainer},r.a.createElement(f,null),r.a.createElement("nav",{className:m.a.headerMenu},r.a.createElement(u.b,{to:"/login"},"Login"),r.a.createElement(u.b,{to:"/profile"},"Profile"),r.a.createElement(u.b,{to:"/registration"},"Registration"),r.a.createElement(u.b,{to:"/forgot"},"ForgotPassword")))},g=a(5),v=a(33),b=a.n(v).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),h=function(e){return b.post("/auth/login",Object(g.a)({},e))},_=function(){return b.post("/auth/me",{})},k=function(){return b.delete("auth/me")},O=function(e,t){return b.post("auth/register",{email:e,password:t})},j=function(e,t){return b.put("auth/me",{name:e,avatar:t})},N=function(e){return b.post("/auth/forgot",{email:e,from:"<maryia.jegorova@gmail.com>",message:"<div style=\"background-color: #d0eca1; padding: 20px; border-radius: 15px\">This is a password recovery link: <a href='https://MariStakhovskaya.github.io/questionCards/#/reset/$token$'>link</a></div>"})},I=function(e,t){return b.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},S={userData:{_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,isAdmin:!1,verified:!1,rememberMe:!1,error:""}},T=function(e){return{type:"login/SET_USER",payload:{userData:e}}},w={isLoggedIn:!1,error:""},C=function(e){return{type:"login/IS-LOGGED-IN",isLoggedIn:e}},B=function(e){return{type:"login/SET_ERROR",error:e}},A=function(e){return function(t){t(P("loading")),h(e).then(function(e){t(C(!0)),console.log(e.data),t(T(e.data)),t(P("succeeded"))}).catch(function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";t(B(a)),setTimeout(function(){t(B(""))},3e3),t(P("failed"))})}},y={isInitialized:!1,status:"idle"},P=function(e){return{type:"APP/SET-STATUS",status:e}},F=function(){return function(e){_().then(function(t){200===t.status&&(e(T(t.data)),e(C(!0)))}).finally(function(){e({type:"APP/SET-IS-INITIALIZED",isInitialized:!0})})}},R=a(4),D=a(36),x=a.n(D);var L=function(){return r.a.createElement("div",{className:"preloader"},r.a.createElement("img",{className:i.a.loader,src:x.a,alt:"preloader"}))},U=a(2),M=a(3),W=a(37),z=a.n(W),G=r.a.memo(function(e){var t=Object(n.useState)(!1),a=Object(M.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(e.value),i=Object(M.a)(l,2),u=i[0],s=i[1];return o?r.a.createElement("input",{value:e.value,onChange:function(t){e.onChange(t.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),s(u)}}):r.a.createElement("span",{onDoubleClick:function(){c(!0),e.onChange(u)}},e.value)}),H=a(10),J=a.n(H),Z=r.a.memo(function(e){return r.a.createElement("div",{className:e.active?"".concat(J.a.modal," ").concat(J.a.active):J.a.modal,onClick:function(){return e.setActive(!1)}},r.a.createElement("div",{className:e.active?"".concat(J.a.modalContent," ").concat(J.a.active):J.a.modalContent,onClick:function(e){return e.stopPropagation()}},e.children))}),K=r.a.memo(function(){Object(n.useEffect)(function(){},[]);var e=Object(R.c)(function(e){return e.profile.userData.name}),t=Object(R.c)(function(e){return e.profile.userData.avatar}),a=Object(R.c)(function(e){return e.login.isLoggedIn}),o=Object(R.c)(function(e){return e.app.status}),c=Object(n.useState)(e),l=Object(M.a)(c,2),i=l[0],u=l[1],s=Object(n.useState)(t),m=Object(M.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(!1),E=Object(M.a)(f,2),g=E[0],v=E[1],b=Object(R.b)();return a?r.a.createElement("div",{className:z.a.profile},"loading"===o&&r.a.createElement(L,null),r.a.createElement("img",{src:t,alt:""}),r.a.createElement("br",null),"avatar URL: ",t,r.a.createElement("br",null),"name: ",e,r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return v(!0)}},"Update Profile"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){b(function(e){e(P("loading")),k().then(function(t){e(C(!1)),e(P("succeeded"))}).catch(function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";e(B(a)),e(P("failed"))})})}},"Logout"),r.a.createElement(Z,{active:g,setActive:v},"avatar url:  ",r.a.createElement(G,{value:d,onChange:p}),r.a.createElement("br",null),"name: ",r.a.createElement(G,{value:i,onChange:u}),r.a.createElement("button",{onClick:function(){b(function(e,t){return function(a){a(P("loading")),j(e,t).then(function(e){var t,n;console.log(e.data.updatedUser),a((t=e.data.updatedUser.name,n=e.data.updatedUser.avatar,{type:"UPDATE-USER-DATA",payload:{name:t,avatar:n}})),a(P("succeeded"))}).catch(function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";a(B(t)),setTimeout(function(){a(B(""))},3e3),a(P("failed"))})}}(i,d)),v(!1)}},"save"))):r.a.createElement(U.a,{to:"/login"})});var q=function(){var e=Object(n.useState)("maria.stachovski.de@gmail.com"),t=Object(M.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)("123456780"),l=Object(M.a)(c,2),s=l[0],m=l[1],d=Object(n.useState)(!1),p=Object(M.a)(d,2),E=p[0],g=p[1],v=Object(R.b)(),b=Object(R.c)(function(e){return e.login.isLoggedIn}),h=Object(R.c)(function(e){return e.login.error}),_=Object(R.c)(function(e){return e.app.status});return r.a.createElement("div",{className:i.a.formBlock},r.a.createElement("div",{className:i.a.titleFormBlock},r.a.createElement(f,null),r.a.createElement("h3",null,"Login")),"loading"===_&&r.a.createElement(L,null),r.a.createElement("div",{className:i.a.formBlockInput},r.a.createElement("input",{className:i.a.defaultInput,value:a,onChange:function(e){o(e.currentTarget.value)}}),r.a.createElement("input",{className:i.a.defaultInput,type:"password",value:s,onChange:function(e){m(e.currentTarget.value)}}),r.a.createElement("div",{className:i.a.error},h),r.a.createElement("label",{className:i.a.checkbox},r.a.createElement("input",{type:"checkbox",name:"RememberMe",onChange:function(e){g(e.currentTarget.checked)}}),"RememberMe"),r.a.createElement("button",{className:i.a.defaultButton,onClick:function(){v(A({email:a,password:s,rememberMe:E}))}},"Login")),r.a.createElement("div",{className:i.a.footerFormBlock},r.a.createElement("p",null,r.a.createElement(u.b,{to:"/forgot"},"ForgotPassword")),r.a.createElement("p",null,"Don't have an account?"),r.a.createElement("p",null,r.a.createElement(u.b,{to:"/registration"},"Sign up"))),b&&r.a.createElement(U.a,{to:"/profile"}))},Q=function(e,t){return function(a){a(P("loading")),O(e,t).then(function(e){console.log(e.data.addedUser),a(P("succeeded")),a(C(!0))}).catch(function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";console.log(t),a(B(t)),setTimeout(function(){a(B(""))},3e3),a(P("failed"))})}};var $=function(){var e=Object(R.b)(),t=Object(n.useState)(""),a=Object(M.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(""),u=Object(M.a)(l,2),s=u[0],m=u[1],d=Object(n.useState)(""),p=Object(M.a)(d,2),E=p[0],g=p[1],v=Object(R.c)(function(e){return e.login.isLoggedIn}),b=Object(R.c)(function(e){return e.login.error});return r.a.createElement("div",{className:i.a.formBlock},r.a.createElement("div",{className:i.a.titleFormBlock},r.a.createElement(f,null),r.a.createElement("h4",null,"Registration")),r.a.createElement("div",{className:i.a.formBlockInput},r.a.createElement("input",{className:i.a.defaultInput,value:o,placeholder:"Email",onChange:function(e){c(e.currentTarget.value)}}),r.a.createElement("input",{className:i.a.defaultInput,value:s,placeholder:"Password",onChange:function(e){m(e.currentTarget.value)}}),r.a.createElement("input",{className:i.a.defaultInput,placeholder:"Confirm password",value:E,onChange:function(e){g(e.currentTarget.value)}}),r.a.createElement("div",{className:i.a.error},b||""),r.a.createElement("button",{className:i.a.defaultButton,onClick:function(){e(s!=E?B("Password is not correct"):Q(o,s))}},"Register")),r.a.createElement("div",{className:i.a.footerFormBlock}),v&&r.a.createElement(U.a,{to:"/login"}))},V={isSendPassword:!1},X=function(e,t){return function(a){a(P("loading")),I(e,t).then(function(e){a({type:"CREATE-NEW-PASSWORD",payload:{isSendPassword:!0}}),a(P("succeeded")),console.log(e.data)}).catch(function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";a(B(t)),setTimeout(function(){a(B(""))},3e3),a(P("failed"))})}};var Y=function(){var e=Object(n.useState)(""),t=Object(M.a)(e,2),a=t[0],o=t[1],c=Object(R.c)(function(e){return e.reset.isSendPassword}),l=Object(R.b)(),u=Object(U.h)().resetPasswordToken;return r.a.createElement("div",{className:i.a.formBlock},r.a.createElement("div",{className:i.a.titleFormBlock},r.a.createElement(f,null),r.a.createElement("h5",null,"Create new password")),r.a.createElement("div",{className:i.a.formBlockInput},r.a.createElement("input",{className:i.a.defaultInput,placeholder:"New password",value:a,onChange:function(e){o(e.currentTarget.value)}}),r.a.createElement("p",null,"Create new password and we will send you further instructions to email "),r.a.createElement("button",{className:i.a.defaultButton,onClick:function(){u&&l(X(a,u))}},"Create new password")),c&&r.a.createElement(U.a,{to:"/login"}),r.a.createElement("div",{className:i.a.footerFormBlock}))},ee=a(38),te=a.n(ee),ae=a(12),ne=a.n(ae);var re=function(){return r.a.createElement("div",{className:ne.a.wrapper},r.a.createElement("div",{className:ne.a.image},r.a.createElement("img",{src:te.a,alt:"cat"})),r.a.createElement("div",{className:ne.a.errorText},"Oops, This page does not exist"),r.a.createElement("button",null,"  ",r.a.createElement(u.c,{to:"/profile",className:ne.a.back},"go to homepage")))},oe={email:"",isSendInstruction:!1},ce=function(e){return function(t){t(P("loading")),N(e).then(function(e){t({type:"IS-SEND-INSTRUCTION",payload:{isSendInstruction:!0}}),t(P("succeeded")),console.log(e.data)}).catch(function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";t(B(a)),setTimeout(function(){t(B(""))},3e3),t(P("failed"))})}},le=a(39),ie=a.n(le);var ue=function(){var e=Object(n.useState)(""),t=Object(M.a)(e,2),a=t[0],o=t[1],c=Object(R.c)(function(e){return e.forgot.isSendInstruction}),l=Object(R.c)(function(e){return e.login.error}),s=Object(R.b)();return r.a.createElement("div",null,c?r.a.createElement("div",{className:i.a.formBlock},r.a.createElement("div",{className:i.a.titleFormBlock},r.a.createElement(f,null),r.a.createElement("h4",null,"Check Email"),r.a.createElement("div",null,r.a.createElement("img",{className:i.a.checkEmail,src:ie.a,alt:"email"}))),r.a.createElement("div",{className:i.a.footerFormBlock},r.a.createElement("div",null,"We\u2019ve sent an Email with instructions to ",a))):r.a.createElement("div",{className:i.a.formBlock},r.a.createElement("div",{className:i.a.titleFormBlock},r.a.createElement(f,null),r.a.createElement("h4",null,"Forgot your password?")),r.a.createElement("div",{className:i.a.formBlockInput},r.a.createElement("input",{className:i.a.defaultInput,placeholder:"Email",value:a,onChange:function(e){o(e.currentTarget.value)}}),r.a.createElement("p",null,"Enter your email address and we will send you further instructions"),r.a.createElement("div",{className:i.a.error},l),r.a.createElement("button",{className:i.a.defaultButton,onClick:function(){s(ce(a))}},"Send instruction")),c&&r.a.createElement(U.a,{to:"/check"}),r.a.createElement("div",{className:i.a.footerFormBlock},r.a.createElement("p",null,"Did you remember your password?"),r.a.createElement("p",null,r.a.createElement(u.b,{to:"/login"}," Try logging in")))))},se=function(){return r.a.createElement(U.d,null,r.a.createElement(U.b,{path:"/",element:r.a.createElement(K,null)}),r.a.createElement(U.b,{path:"login",element:r.a.createElement(q,null)}),r.a.createElement(U.b,{path:"profile",element:r.a.createElement(K,null)}),r.a.createElement(U.b,{path:"registration",element:r.a.createElement($,null)}),r.a.createElement(U.b,{path:"forgot",element:r.a.createElement(ue,null)}),r.a.createElement(U.b,{path:"reset/:resetPasswordToken",element:r.a.createElement(Y,null)}),r.a.createElement(U.b,{path:"404",element:r.a.createElement(re,null)}),r.a.createElement(U.b,{path:"*",element:r.a.createElement(U.a,{to:"/404"})}))};var me=function(){var e=Object(R.b)(),t=Object(R.c)(function(e){return e.app.isInitialized});return Object(n.useEffect)(function(){e(F())},[]),r.a.createElement("div",{className:i.a.mainBlock},!t&&r.a.createElement(L,null),r.a.createElement(E,null),r.a.createElement(se,null),r.a.createElement("footer",{className:i.a.footerBlock},"@2022 cards training project"))},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,77)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)})},pe=a(14),fe=a(40),Ee=Object(pe.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-IS-INITIALIZED":return Object(g.a)({},e,{isInitialized:t.isInitialized});case"APP/SET-STATUS":return Object(g.a)({},e,{status:t.status});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/IS-LOGGED-IN":return Object(g.a)({},e,{isLoggedIn:t.isLoggedIn});case"login/SET_ERROR":return Object(g.a)({},e,{error:t.error});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_USER":return Object(g.a)({},e,t.payload);case"UPDATE-USER-DATA":return Object(g.a)({},e,{userData:Object(g.a)({},e.userData,t.payload)});default:return e}},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE-NEW-PASSWORD":return Object(g.a)({},e,t.payload);default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT-PASSWORD":case"IS-SEND-INSTRUCTION":return Object(g.a)({},e,t.payload);default:return e}}}),ge=Object(pe.c)(Ee,Object(pe.a)(fe.a));window.store=ge,c.a.createRoot(document.getElementById("root")).render(r.a.createElement(u.a,null,r.a.createElement(R.a,{store:ge},r.a.createElement(me,null)))),de()}},[[41,1,2]]]);
//# sourceMappingURL=main.2cc9b920.chunk.js.map