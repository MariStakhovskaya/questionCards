(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={mainBlock:"App_mainBlock__2HF24",formBlock:"App_formBlock__1zaAh",titleFormBlock:"App_titleFormBlock__3ZC75",formBlockInput:"App_formBlockInput__2Z6wr",footerBlock:"App_footerBlock__1vnFk",defaultButton:"App_defaultButton__12b8P",defaultInput:"App_defaultInput__2Pgcg",labelInput:"App_labelInput__2orqK",loader:"App_loader__2oKrW",error:"App_error__28HgU",checkEmail:"App_checkEmail__3xmvW",logo:"App_logo__2UF9l"}},11:function(e,t,a){e.exports={wrapper:"Error404_wrapper__6QRdJ",image:"Error404_image__1tgfK",errorText:"Error404_errorText__DB3_j",back:"Error404_back__MQN98"}},18:function(e,t,a){e.exports={headerContainer:"Header_headerContainer__1Ta32",headerMenu:"Header_headerMenu__2eVCJ"}},32:function(e,t,a){e.exports=a.p+"static/media/cpLogo.4d8df5a9.png"},37:function(e,t,a){e.exports=a.p+"static/media/Ellipsis.6cf03e7b.gif"},38:function(e,t,a){e.exports=a.p+"static/media/404.1340f194.png"},39:function(e,t,a){e.exports=a.p+"static/media/4698238.068caec9.png"},41:function(e,t,a){e.exports=a(78)},48:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),o=a.n(c),l=(a(48),a(1)),i=a.n(l),u=a(8),s=a(18),m=a.n(s),d=a(32),p=a.n(d);var f=function(){return r.a.createElement("div",{className:"logo"},r.a.createElement("img",{className:i.a.logo,src:p.a,alt:"logo pet project"}))};var E=function(){return r.a.createElement("div",{className:m.a.headerContainer},r.a.createElement(f,null),r.a.createElement("nav",{className:m.a.headerMenu},r.a.createElement(u.b,{to:"/login"},"Login"),r.a.createElement(u.b,{to:"/profile"},"Profile"),r.a.createElement(u.b,{to:"/registration"},"Registration"),r.a.createElement(u.b,{to:"/forgot"},"ForgotPassword")))},g=a(19),v=a.n(g),b=a(33),h=a(5),O=a(34),k=a.n(O).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),j=function(e){return k.post("/auth/login",Object(h.a)({},e))},N=function(){return k.post("/auth/me",{})},_=function(){return k.delete("auth/me")},I=function(e,t){return k.post("auth/register",{email:e,password:t})},S=function(e,t){return k.put("auth/me",{name:e,avatar:t})},w=function(e){return k.post("/auth/forgot",{email:e,from:"<maryia.jegorova@gmail.com>",message:"<div style=\"background-color: #d0eca1; padding: 20px; border-radius: 15px\">This is a password recovery link: <a href='https://MariStakhovskaya.github.io/questionCards/#/reset/$token$'>link</a></div>"})},T=function(e,t){return k.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},B={userData:{_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,isAdmin:!1,verified:!1,rememberMe:!1,error:""}},C=function(e){return{type:"login/SET_USER",payload:{userData:e}}},y={isLoggedIn:!1,error:""},A=function(e){return{type:"login/IS-LOGGED-IN",isLoggedIn:e}},P=function(e){return{type:"login/SET_ERROR",error:e}},R=function(e){return function(t){t(x("loading")),j(e).then(function(e){t(A(!0)),console.log(e.data),t(C(e.data)),t(x("succeeded"))}).catch(function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";t(P(a)),t(x("failed"))})}},D={isInitialized:!1,status:"idle"},F=function(e){return{type:"APP/SET-IS-INITIALIZED",isInitialized:e}},x=function(e){return{type:"APP/SET-STATUS",status:e}},L=function(){return function(){var e=Object(b.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:a=e.sent,t(C(a.data.data)),t(A(!0)),t(F(!0)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(F(!0));case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},U=a(4),M=a(37),W=a.n(M);var z=function(){return r.a.createElement("div",{className:"preloader"},r.a.createElement("img",{className:i.a.loader,src:W.a,alt:"preloader"}))},G=a(2),H=a(3),J=r.a.memo(function(e){var t=Object(n.useState)(!1),a=Object(H.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(e.value),i=Object(H.a)(l,2),u=i[0],s=i[1];return c?r.a.createElement("input",{value:e.value,onChange:function(t){e.onChange(t.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),s(u)}}):r.a.createElement("span",{onDoubleClick:function(){o(!0),e.onChange(u)}},e.value)}),Z=r.a.memo(function(){Object(n.useEffect)(function(){},[]);var e=Object(U.c)(function(e){return e.profile.userData.name}),t=Object(U.c)(function(e){return e.profile.userData.avatar}),a=Object(U.c)(function(e){return e.login.isLoggedIn}),c=Object(U.c)(function(e){return e.app.status}),o=Object(n.useState)(e),l=Object(H.a)(o,2),i=l[0],u=l[1],s=Object(n.useState)(t),m=Object(H.a)(s,2),d=m[0],p=m[1],f=Object(U.b)();return a?r.a.createElement("div",{className:"Profile"},"loading"===c&&r.a.createElement(z,null),r.a.createElement("img",{src:d,alt:""}),r.a.createElement("br",null),"avatar url:  ",r.a.createElement(J,{value:d,onChange:p}),r.a.createElement("br",null),"name: ",r.a.createElement(J,{value:i,onChange:u}),r.a.createElement("button",{onClick:function(){f(function(e,t){return function(a){a(x("loading")),S(e,t).then(function(e){var t,n;console.log(e.data.updatedUser),a((t=e.data.updatedUser.name,n=e.data.updatedUser.avatar,{type:"UPDATE-USER-DATA",payload:{name:t,avatar:n}})),a(x("succeeded"))})}}(i,d))}},"save"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){f(function(e){e(x("loading")),_().then(function(t){e(A(!1)),e(x("succeeded"))}).catch(function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";e(P(a)),e(x("failed"))})})}},"Logout")):r.a.createElement(G.a,{to:"/login"})});var K=function(){var e=Object(n.useState)("maria.stachovski.de@gmail.com"),t=Object(H.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)("123456780"),l=Object(H.a)(o,2),s=l[0],m=l[1],d=Object(n.useState)(!1),p=Object(H.a)(d,2),E=p[0],g=p[1],v=Object(U.b)(),b=Object(U.c)(function(e){return e.login.isLoggedIn}),h=Object(U.c)(function(e){return e.login.error}),O=Object(U.c)(function(e){return e.app.status});return r.a.createElement("div",{className:i.a.formBlock},r.a.createElement("div",{className:i.a.titleFormBlock},r.a.createElement(f,null),r.a.createElement("h3",null,"Login")),"loading"===O&&r.a.createElement(z,null),r.a.createElement("div",{className:i.a.formBlockInput},r.a.createElement("input",{className:i.a.defaultInput,value:a,onChange:function(e){c(e.currentTarget.value)}}),r.a.createElement("input",{className:i.a.defaultInput,type:"password",value:s,onChange:function(e){m(e.currentTarget.value)}}),r.a.createElement("div",{className:i.a.error},h),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"RememberMe",onChange:function(e){g(e.currentTarget.checked)}}),"RememberMe"),r.a.createElement("button",{className:i.a.defaultButton,onClick:function(){v(R({email:a,password:s,rememberMe:E}))}},"Login")),r.a.createElement("div",{className:i.a.footerFormBlock},r.a.createElement("div",null,r.a.createElement(u.b,{to:"/forgot"},"ForgotPassword")),r.a.createElement("div",null,"Don't have an account?"),r.a.createElement("div",null,"Sign up")),b&&r.a.createElement(G.a,{to:"/profile"}))},q=function(e,t){return function(a){a(x("loading")),I(e,t).then(function(e){console.log(e.data.addedUser),a(x("succeeded")),a(A(!0))}).catch(function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";console.log(t),a(P(t)),a(x("failed"))})}};var Q=function(){var e=Object(U.b)(),t=Object(n.useState)(""),a=Object(H.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),u=Object(H.a)(l,2),s=u[0],m=u[1],d=Object(n.useState)(""),p=Object(H.a)(d,2),E=p[0],g=p[1],v=Object(U.c)(function(e){return e.login.isLoggedIn}),b=Object(U.c)(function(e){return e.login.error});return r.a.createElement("div",{className:i.a.formBlock},r.a.createElement("div",{className:i.a.titleFormBlock},r.a.createElement(f,null),r.a.createElement("h4",null,"Registration")),r.a.createElement("div",{className:i.a.formBlockInput},r.a.createElement("input",{className:i.a.defaultInput,value:c,placeholder:"Email",onChange:function(e){o(e.currentTarget.value)}}),r.a.createElement("input",{className:i.a.defaultInput,value:s,placeholder:"Password",onChange:function(e){m(e.currentTarget.value)}}),r.a.createElement("input",{className:i.a.defaultInput,placeholder:"Confirm password",value:E,onChange:function(e){g(e.currentTarget.value)}}),r.a.createElement("div",{className:i.a.error},b||""),r.a.createElement("button",{className:i.a.defaultButton,onClick:function(){e(s!=E?P("Password is not correct"):q(c,s))}},"Register")),r.a.createElement("div",{className:i.a.footerFormBlock}),v&&r.a.createElement(G.a,{to:"/login"}))},$={isSendPassword:!1},V=function(e,t){return function(a){a(x("loading")),T(e,t).then(function(e){a({type:"CREATE-NEW-PASSWORD",payload:{isSendPassword:!0}}),a(x("succeeded")),console.log(e.data)}).catch(function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";a(P(t)),a(x("failed"))})}};var X=function(){var e=Object(n.useState)(""),t=Object(H.a)(e,2),a=t[0],c=t[1],o=Object(U.c)(function(e){return e.reset.isSendPassword}),l=Object(U.b)(),u=Object(G.h)().resetPasswordToken;return r.a.createElement("div",{className:i.a.formBlock},r.a.createElement("div",{className:i.a.titleFormBlock},r.a.createElement(f,null),r.a.createElement("h5",null,"Create new password")),r.a.createElement("div",{className:i.a.formBlockInput},r.a.createElement("input",{className:i.a.defaultInput,placeholder:"New password",value:a,onChange:function(e){c(e.currentTarget.value)}}),r.a.createElement("div",null,"Create new password and we will send you further instructions to email "),r.a.createElement("button",{className:i.a.defaultButton,onClick:function(){u&&l(V(a,u))}},"Create new password")),o&&r.a.createElement(G.a,{to:"/login"}),r.a.createElement("div",{className:i.a.footerFormBlock}))},Y=a(38),ee=a.n(Y),te=a(11),ae=a.n(te);var ne=function(){return r.a.createElement("div",{className:ae.a.wrapper},r.a.createElement("div",{className:ae.a.image},r.a.createElement("img",{src:ee.a,alt:"cat"})),r.a.createElement("div",{className:ae.a.errorText},"Oops, This page does not exist"),r.a.createElement("button",null,"  ",r.a.createElement(u.c,{to:"/profile",className:ae.a.back},"go to homepage")))},re={email:"",isSendInstruction:!1},ce=function(e){return function(t){t(x("loading")),w(e).then(function(e){t({type:"IS-SEND-INSTRUCTION",payload:{isSendInstruction:!0}}),t(x("succeeded")),console.log(e.data)}).catch(function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";t(P(a)),t(x("failed"))})}},oe=a(39),le=a.n(oe);var ie=function(){var e=Object(n.useState)(""),t=Object(H.a)(e,2),a=t[0],c=t[1],o=Object(U.c)(function(e){return e.forgot.isSendInstruction}),l=Object(U.c)(function(e){return e.login.error}),s=Object(U.b)();return r.a.createElement("div",null,o?r.a.createElement("div",{className:i.a.formBlock},r.a.createElement("div",{className:i.a.titleFormBlock},r.a.createElement(f,null),r.a.createElement("h4",null,"Check Email"),r.a.createElement("div",null,r.a.createElement("img",{className:i.a.checkEmail,src:le.a,alt:"email"}))),r.a.createElement("div",{className:i.a.footerFormBlock},r.a.createElement("div",null,"We\u2019ve sent an Email with instructions to ",a))):r.a.createElement("div",{className:i.a.formBlock},r.a.createElement("div",{className:i.a.titleFormBlock},r.a.createElement(f,null),r.a.createElement("h4",null,"Forgot your password?")),r.a.createElement("div",{className:i.a.formBlockInput},r.a.createElement("input",{className:i.a.defaultInput,placeholder:"Email",value:a,onChange:function(e){c(e.currentTarget.value)}}),r.a.createElement("div",null,"Enter your email address and we will send you further instructions"),r.a.createElement("div",{className:i.a.error},l),r.a.createElement("button",{className:i.a.defaultButton,onClick:function(){s(ce(a))}},"Send instruction")),o&&r.a.createElement(G.a,{to:"/check"}),r.a.createElement("div",{className:i.a.footerFormBlock},r.a.createElement("div",null,"Did you remember your password?"),r.a.createElement("div",null,r.a.createElement(u.b,{to:"/login"}," Try logging in")))))},ue=function(){return r.a.createElement(G.d,null,r.a.createElement(G.b,{path:"/",element:r.a.createElement(Z,null)}),r.a.createElement(G.b,{path:"login",element:r.a.createElement(K,null)}),r.a.createElement(G.b,{path:"profile",element:r.a.createElement(Z,null)}),r.a.createElement(G.b,{path:"registration",element:r.a.createElement(Q,null)}),r.a.createElement(G.b,{path:"forgot",element:r.a.createElement(ie,null)}),r.a.createElement(G.b,{path:"reset/:resetPasswordToken",element:r.a.createElement(X,null)}),r.a.createElement(G.b,{path:"404",element:r.a.createElement(ne,null)}),r.a.createElement(G.b,{path:"*",element:r.a.createElement(G.a,{to:"/404"})}))};var se=function(){var e=Object(U.b)(),t=Object(U.c)(function(e){return e.app.isInitialized});return Object(n.useEffect)(function(){e(L())},[]),r.a.createElement("div",{className:i.a.mainBlock},r.a.createElement(E,null),!t&&r.a.createElement(z,null),r.a.createElement(ue,null),r.a.createElement("footer",{className:i.a.footerBlock},"@2022 cards training project"))},me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)})},de=a(13),pe=a(40),fe=Object(de.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-IS-INITIALIZED":return Object(h.a)({},e,{isInitialized:t.isInitialized});case"APP/SET-STATUS":return Object(h.a)({},e,{status:t.status});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/IS-LOGGED-IN":return Object(h.a)({},e,{isLoggedIn:t.isLoggedIn});case"login/SET_ERROR":return Object(h.a)({},e,{error:t.error});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_USER":return Object(h.a)({},e,t.payload);case"UPDATE-USER-DATA":return Object(h.a)({},e,{userData:Object(h.a)({},e.userData,t.payload)});default:return e}},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE-NEW-PASSWORD":return Object(h.a)({},e,t.payload);default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT-PASSWORD":case"IS-SEND-INSTRUCTION":return Object(h.a)({},e,t.payload);default:return e}}}),Ee=Object(de.c)(fe,Object(de.a)(pe.a));window.store=Ee,o.a.createRoot(document.getElementById("root")).render(r.a.createElement(u.a,null,r.a.createElement(U.a,{store:Ee},r.a.createElement(se,null)))),me()}},[[41,1,2]]]);
//# sourceMappingURL=main.3487f6d1.chunk.js.map